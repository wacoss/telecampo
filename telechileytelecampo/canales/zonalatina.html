<!DOCTYPE html>
<html lang="es-CL">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lorem</title>
     <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Gabarito', sans-serif;
            background-color: #000;
            color: #999;
            height: 100dvh;
            overflow: hidden;
        }

        iframe {
            width: 100%;
            height: 100dvh;
            border: none;
        }
    </style>

</head>
<body>

                    <iframe 
                        id="youtubeEmbed"
                        src=""
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen
                        title="YouTube Live Stream">
                    </iframe>
   
    <script>
    class YouTubeLiveEmbed {
  constructor() {
    this.channelId = "UC1mxPedvfMZCw48brknNg3g"
    this.init()
  }

  init() {
    this.loadEmbed()
    console.log("YouTube Live Embed iniciado para canal:", this.channelId)
  }

  buildEmbedUrl() {
    // Configuración fija: autoplay activado, sin mute
    const baseUrl = `https://www.youtube.com/embed/live_stream`
    const params = new URLSearchParams({
      channel: this.channelId,
      autoplay: "1",
      mute: "0",
      modestbranding: "1",
      rel: "0",
      iv_load_policy: "3",
    })

    return `${baseUrl}?${params.toString()}`
  }

  loadEmbed() {
    const iframe = document.getElementById("youtubeEmbed")
    const embedUrl = this.buildEmbedUrl()

    // No se agrega timestamp, ya que no se requiere forzar recarga
    iframe.src = embedUrl

    console.log("Embed cargado:", embedUrl)
  }
}

// Inicializar cuando se carga la página
document.addEventListener("DOMContentLoaded", () => {
  window.youtubeLiveEmbed = new YouTubeLiveEmbed()
})                  
    </script>
</body>
</html>
