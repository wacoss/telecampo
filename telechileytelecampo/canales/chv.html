<!DOCTYPE html>
<html lang="es">
<head>
    <title>Reproductor de Video</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1">
    <style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #000;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
}

/* Contenedor principal centrado */
.video-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #000;
}

/* Contenedor responsive del video */
.embed-responsive {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.embed-responsive-16by9 {
    position: relative;
    width: 100%;
    max-width: 100vw;
    max-height: 100vh;
    aspect-ratio: 16/9;
}

/* Contenedor del video centrado */
#video-player {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: 100% !important;
    height: 100% !important;
    object-fit: contain;
    max-width: 100vw;
    max-height: 100vh;
}

/* Asegurar que el iframe/video esté centrado */
#video-player iframe,
#video-player video {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
}

/* Media queries para diferentes dispositivos */
@media (max-width: 768px) {
    .embed-responsive-16by9 {
        width: 100vw;
        height: 56.25vw; /* 16:9 aspect ratio */
        max-height: 100vh;
    }
    
    /* Si la altura calculada es mayor que la pantalla, usar toda la altura */
    @media (max-height: 56.25vw) {
        .embed-responsive-16by9 {
            width: 177.78vh; /* 16:9 aspect ratio inverso */
            height: 100vh;
            max-width: 100vw;
        }
    }
}

@media (max-width: 480px) {
    .embed-responsive-16by9 {
        width: 100vw;
        height: 56.25vw;
        max-height: 100vh;
    }
}

/* Landscape mode en móviles */
@media (max-height: 500px) and (orientation: landscape) {
    .embed-responsive-16by9 {
        width: 177.78vh;
        height: 100vh;
        max-width: 100vw;
    }
}

/* Tablets */
@media (min-width: 769px) and (max-width: 1024px) {
    .embed-responsive-16by9 {
        width: 100vw;
        height: 56.25vw;
        max-height: 100vh;
    }
    
    @media (max-height: 56.25vw) {
        .embed-responsive-16by9 {
            width: 177.78vh;
            height: 100vh;
            max-width: 100vw;
        }
    }
}

/* Desktop */
@media (min-width: 1025px) {
    .embed-responsive-16by9 {
        width: 100vw;
        height: 56.25vw;
        max-height: 100vh;
    }
    
    @media (max-height: 56.25vw) {
        .embed-responsive-16by9 {
            width: 177.78vh;
            height: 100vh;
            max-width: 100vw;
        }
    }
}

/* Muy alta resolución */
@media (min-width: 1920px) {
    .embed-responsive-16by9 {
        width: 100vw;
        height: 56.25vw;
        max-height: 100vh;
    }
    
    @media (max-height: 56.25vw) {
        .embed-responsive-16by9 {
            width: 177.78vh;
            height: 100vh;
            max-width: 100vw;
        }
    }
}
</style>
</head>
<body>
    <!-- Script del reproductor -->
     <!-- <script src='https://platform.s-mdstrm.com/js/player_api.js'></script> -->
    <script>
    (function(){var f=null;var Ea=function(b,c){var a;if(b)return c(null,b);try{if(null==window.MSFederationSDK||f)return c(null,null!=f?null!=(a=f.user)?a._id:void 0:void 0);f=new window.MSFederationSDK;var W=function(){var a;f.off("invalidDomain",q);return null!=(a=f.awaitPluginReady("session"))?a.then(function(){var a;return c(null,null!=(a=f.user)?a._id:void 0)}):void 0};var q=function(){f.off("ready",W);return c(null,void 0)};f.once("ready",W);return f.once("invalidDomain",q)}catch(g){return b=g,
c(b)}};var b=function(){function b(c,a){var b,f;null==a&&(a={});this._isPlaying=this.playerDestroyed=this._isReady=!1;var g=[];document.getElementById(c)||g.push("ID must be a valid DOM Element");/^[0-9a-fA-F]{24}$/.test(a.id)||this._getYouTubeID(a.id)||g.push("Options.id must be a valid Platform Video ID or a YouTube Video ID");"media"!==(b=a.type)&&"live"!==b&&"dvr"!==b&&g.push('Options.type must be "media", "live" or "dvr"');isNaN(parseInt(a.width))&&g.push("Options.width must be a positive integer");
isNaN(parseInt(a.height))&&g.push("Options.height must be a positive integer");if("http"===(f=a.protocol)||"https"===f)this._protocol=a.protocol;0<g.length?this._error(g):Ea(a.customer,function(b){return function(W,g){g&&(a.customer=g);return b._init(c,a)}}(this))}b.prototype._init=function(c,a){var b,f,g,r,t,u,p,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,l,m,M,N,n,O,P,Q,R,S,T,U;this._callbacks={};this._bindEvent(window,"message",function(a){return function(c){if(!a.playerDestroyed&&(null!=c?c.source:void 0)===
a._IFrameContent)return a._receiveMessage(c)}}(this));this._events={};var d="onAdsAdBreakReady onAdsAdMetadata onAdsAllAdsCompleted onAdsClick onAdsComplete onAdsContentPauseRequested onAdsContentResumeRequested onAdsDurationChange onAdsFirstQuartile onAdsImpression onAdsLinearChanged onAdsLoaded onAdsLog onAdsMidpoint onAdsPaused onAdsResumed onAdsSkippableStateChanged onAdsSkipped onAdsStarted onAdsThirdQuartile onAdsUserClose onAdsVolumeChanged onAdsVolumeMuted".split(" ");var k=0;for(f=d.length;k<
f;k++){var e=d[k];"function"===typeof(null!=(g=a.events)?g[e]:void 0)&&(this._events[e]=a.events[e])}"function"===typeof(null!=(r=a.events)?r.onPlayerMounted:void 0)&&(this._events.onPlayerMounted=a.events.onPlayerMounted);"function"===typeof(null!=(C=a.events)?C.onPlayerReady:void 0)&&(this._events.onPlayerReady=a.events.onPlayerReady);"function"===typeof(null!=(L=a.events)?L.onVideoEnd:void 0)&&(this._events.onVideoEnd=a.events.onVideoEnd);"function"===typeof(null!=(O=a.events)?O.onVideoStop:void 0)&&
(this._events.onVideoStop=a.events.onVideoStop);"function"===typeof(null!=(Q=a.events)?Q.onVideoError:void 0)&&(this._events.onVideoError=a.events.onVideoError);"function"===typeof(null!=(R=a.events)?R.onVolumeChange:void 0)&&(this._events.onVolumeChange=a.events.onVolumeChange);"function"===typeof(null!=(S=a.events)?S.onPlay:void 0)&&(this._events.onPlay=a.events.onPlay);"function"===typeof(null!=(T=a.events)?T.onSeeked:void 0)&&(this._events.onSeeked=a.events.onSeeked);"function"===typeof(null!=
(U=a.events)?U.onSeeking:void 0)&&(this._events.onSeeking=a.events.onSeeking);"function"===typeof(null!=(t=a.events)?t.onReplay:void 0)&&(this._events.onReplay=a.events.onReplay);"function"===typeof(null!=(u=a.events)?u.onProgramDateTime:void 0)&&(this._events.onProgramDateTime=a.events.onProgramDateTime);"function"===typeof(null!=(p=a.events)?p.onTimeUpdate:void 0)&&(this._events.onTimeUpdate=a.events.onTimeUpdate);"function"===typeof(null!=(v=a.events)?v.onFullscreenChange:void 0)&&(this._events.onFullscreenChange=
a.events.onFullscreenChange);"function"===typeof(null!=(w=a.events)?w.onBuffering:void 0)&&(this._events.onBuffering=a.events.onBuffering);"function"===typeof(null!=(x=a.events)?x.onFragChanged:void 0)&&(this._events.onFragChanged=a.events.onFragChanged);"function"===typeof(null!=(y=a.events)?y.onCastConnected:void 0)&&(this._events.onCastConnected=a.events.onCastConnected);"function"===typeof(null!=(z=a.events)?z.onCastDisconnected:void 0)&&(this._events.onCastDisconnected=a.events.onCastDisconnected);
"function"===typeof(null!=(A=a.events)?A.onCastRemoteDevicePaused:void 0)&&(this._events.onCastRemoteDevicePaused=a.events.onCastRemoteDevicePaused);"function"===typeof(null!=(B=a.events)?B.oncastRemoteDevicePlaying:void 0)&&(this._events.oncastRemoteDevicePlaying=a.events.oncastRemoteDevicePlaying);"function"===typeof(null!=(D=a.events)?D.onPlaylistStatusChange:void 0)&&(this._events.onPlaylistStatusChange=a.events.onPlaylistStatusChange);"function"===typeof(null!=(E=a.events)?E.onChangeLocation:
void 0)&&(this._events.onChangeLocation=a.events.onChangeLocation);"function"===typeof(null!=(F=a.events)?F.custom:void 0)&&(this._events.custom=a.events.custom);"function"===typeof(null!=(G=a.events)?G.onMetadata:void 0)&&(this._events.onMetadata=a.events.onMetadata);"function"===typeof(null!=(H=a.events)?H.onPiPStart:void 0)&&(this._events.onPiPStart=a.events.onPiPStart);"function"===typeof(null!=(I=a.events)?I.onPiPEnd:void 0)&&(this._events.onPiPEnd=a.events.onPiPEnd);this._IFrameURLOptions=[];
this._IFrameURLOptions.push("jsapi\x3dtrue");null!=a.loop&&this._IFrameURLOptions.push("loop\x3d"+encodeURIComponent(a.loop));null!=a.pause_ad_on_click&&this._IFrameURLOptions.push("pause_ad_on_click\x3d"+encodeURIComponent(a.pause_ad_on_click));null!=a.skip_ad_on_touch&&this._IFrameURLOptions.push("skip_ad_on_touch\x3d"+encodeURIComponent(a.skip_ad_on_touch));null!=a.show_controls_on_ad&&this._IFrameURLOptions.push("show_controls_on_ad\x3d"+encodeURIComponent(a.show_controls_on_ad));null!=a.pause_on_screen_click&&
this._IFrameURLOptions.push("pause_on_screen_click\x3d"+encodeURIComponent(a.pause_on_screen_click));null!=a.autoplay&&this._IFrameURLOptions.push("autoplay\x3d"+encodeURIComponent(a.autoplay));null!=a.pip&&this._IFrameURLOptions.push("pip\x3d"+encodeURIComponent(a.pip));null!=a.controls&&this._IFrameURLOptions.push("controls\x3d"+encodeURIComponent(a.controls));null!=a.useMobileNativeControls&&this._IFrameURLOptions.push("useMobileNativeControls\x3d"+encodeURIComponent(a.useMobileNativeControls));
null!=a.volume&&this._IFrameURLOptions.push("volume\x3d"+encodeURIComponent(a.volume));a.player&&this._IFrameURLOptions.push("player\x3d"+encodeURIComponent(a.player));a.skin&&this._IFrameURLOptions.push("skin\x3d"+encodeURIComponent(a.skin));a.ref&&this._IFrameURLOptions.push("ref\x3d"+encodeURIComponent(a.ref));null!=a.startTime&&this._IFrameURLOptions.push("starttime\x3d"+encodeURIComponent(a.startTime));null!=a.endTime&&this._IFrameURLOptions.push("endtime\x3d"+encodeURIComponent(a.endTime));
null!=a.title&&this._IFrameURLOptions.push("title\x3d"+encodeURIComponent(a.title));null!=a.show_title&&this._IFrameURLOptions.push("show_title\x3d"+encodeURIComponent(a.show_title));null!=a.show_timeline_time&&this._IFrameURLOptions.push("show_timeline_time\x3d"+encodeURIComponent(a.show_timeline_time));null!=a.access_token&&this._IFrameURLOptions.push("access_token\x3d"+encodeURIComponent(a.access_token));null!=a.admin_token&&this._IFrameURLOptions.push("admin_token\x3d"+encodeURIComponent(a.admin_token));
null!=a.acc_token&&this._IFrameURLOptions.push("acc_token\x3d"+encodeURIComponent(a.acc_token));null!=a.source&&this._IFrameURLOptions.push("source\x3d"+encodeURIComponent(a.source));null!=a.poster&&this._IFrameURLOptions.push("poster\x3d"+encodeURIComponent(a.poster));null!=a.customer&&this._IFrameURLOptions.push("c\x3d"+encodeURIComponent(a.customer));null!=a.distributor&&this._IFrameURLOptions.push("ds\x3d"+encodeURIComponent(a.distributor));null!=a.analyticsCustom&&this._IFrameURLOptions.push("ac\x3d"+
encodeURIComponent(a.analyticsCustom));null!=a.rendition_rule&&this._IFrameURLOptions.push("rendition_rule\x3d"+encodeURIComponent(a.rendition_rule));null!=a.dnt&&this._IFrameURLOptions.push("dnt\x3d"+encodeURIComponent(a.dnt));null!=a.googleImaPpid&&this._IFrameURLOptions.push("googleImaPpid\x3d"+encodeURIComponent(a.googleImaPpid));null!=a.cust_params&&this._IFrameURLOptions.push("cust_params\x3d"+encodeURIComponent(a.cust_params));null!=a.show_previews&&this._IFrameURLOptions.push("show_previews\x3d"+
encodeURIComponent(a.show_previews));null!=a.playlistId&&this._IFrameURLOptions.push("playlistId\x3d"+encodeURIComponent(a.playlistId));null!=a.player_skin&&this._IFrameURLOptions.push("player_skin\x3d"+encodeURIComponent(a.player_skin));null!=a.subtitles&&this._IFrameURLOptions.push("subtitles\x3d"+encodeURIComponent(a.subtitles));null!=a.mse_buffer_length&&this._IFrameURLOptions.push("mse_buffer_length\x3d"+encodeURIComponent(a.mse_buffer_length));null!=a.mse_buffer_size&&this._IFrameURLOptions.push("mse_buffer_size\x3d"+
encodeURIComponent(a.mse_buffer_size));null!=a.maxProfile&&this._IFrameURLOptions.push("max_profile\x3d"+encodeURIComponent(a.maxProfile));null!=a.firstProfile&&this._IFrameURLOptions.push("first_profile\x3d"+encodeURIComponent(a.firstProfile));null!=(null!=(J=a.style)?J.basecolor:void 0)&&this._IFrameURLOptions.push("style[basecolor]\x3d"+encodeURIComponent(a.style.basecolor));null!=(null!=(K=a.style)?K.backgroundcolor:void 0)&&this._IFrameURLOptions.push("style[backgroundcolor]\x3d"+encodeURIComponent(a.style.backgroundcolor));
!0===a.mse&&this._IFrameURLOptions.push("mse\x3dtrue");!0===a.rtsp&&this._IFrameURLOptions.push("rtsp\x3dtrue");!0===a.debug&&this._IFrameURLOptions.push("debug\x3dtrue");!0===a.ima_debug&&this._IFrameURLOptions.push("ima_debug\x3dtrue");!0===a.no_ad&&this._IFrameURLOptions.push("no_ad\x3dtrue");!0===a.dvr&&this._IFrameURLOptions.push("dvr\x3dtrue");"dvr"===a.type&&this._IFrameURLOptions.push("type\x3ddvr");null!=a.start&&this._IFrameURLOptions.push("start\x3d"+(new Date(a.start)).toISOString());
null!=a.end&&this._IFrameURLOptions.push("end\x3d"+(new Date(a.end)).toISOString());null!=a.without_cookies&&this._IFrameURLOptions.push("without_cookies\x3d"+encodeURIComponent(a.without_cookies));null!=a.listenerid&&this._IFrameURLOptions.push("listenerid\x3d"+encodeURIComponent(a.listenerid));k=a.style||{};for(b in k)if(d=k[b],"object"!==typeof d)this._IFrameURLOptions.push("style["+b+"]\x3d"+encodeURIComponent(d));else for(h in d)e=d[h],this._IFrameURLOptions.push("style["+b+"]["+h+"]\x3d"+encodeURIComponent(e));
e=a.ads||{};for(b in e)d=e[b],this._IFrameURLOptions.push("ads["+b+"]\x3d"+encodeURIComponent(d));e=a.controls_bar||{};for(b in e)d=e[b],this._IFrameURLOptions.push("controls_bar["+b+"]\x3d"+encodeURIComponent(d));e=a.custom||{};for(b in e)d=e[b],this._IFrameURLOptions.push("custom."+b+"\x3d"+encodeURIComponent(d));e=(null!=(l=a.youbora)?l.extra:void 0)||{};for(b in e)d=e[b],this._IFrameURLOptions.push("youbora[extra]["+b+"]\x3d"+encodeURIComponent(d));l=a.watermark||{};for(b in l)d=l[b],this._IFrameURLOptions.push("watermark["+
b+"]\x3d"+encodeURIComponent(d));null!=(null!=(m=a.playlist)?m.template:void 0)&&this._IFrameURLOptions.push("playlist[template]\x3d"+encodeURIComponent(a.playlist.template));null!=(null!=(M=a.playlist)?M.showControlBarButton:void 0)&&this._IFrameURLOptions.push("playlist[showControlBarButton]\x3d"+encodeURIComponent(a.playlist.showControlBarButton));null!=(null!=(N=a.playlist)?N.autoplay:void 0)&&this._IFrameURLOptions.push("playlist[autoplay]\x3d"+encodeURIComponent(a.playlist.autoplay));m=(null!=
(n=a.playlist)?n.items:void 0)||[];for(b in m)for(h in n=(d=m[b])||{},n)e=n[h],this._IFrameURLOptions.push("playlist[items]["+b+"]["+h+"]\x3d"+encodeURIComponent(e));var h=a.custom_related||[];for(b in h)d=h[b],this._IFrameURLOptions.push("customrelated[]["+b+"]\x3d"+encodeURIComponent(d));this._IFrameURL=[];this._IFrameURL.push(this.protocol()+"//"+(window.EMBED_HOST||"mdstrm.com")+"/");this._IFrameURL.push("live"===(P=a.type)||"dvr"===P?"live-stream":"embed");this._IFrameURL.push("/");this._getYouTubeID(a.id)&&
this._IFrameURL.push("y/");this._IFrameURL.push(this._getYouTubeID(a.id)||a.id);this._IFrameURL.push("?");this._IFrameURL.push(this._IFrameURLOptions.join("\x26"));this._playerContainer=document.getElementById(c);this._IFrameContainer=document.createElement("IFRAME");a.className&&this._IFrameContainer.setAttribute("class",[].concat.apply([],[a.className]).join(" "));!0===a.useDataSrc?this._IFrameContainer.setAttribute("data-src",this._IFrameURL.join("")):this._IFrameContainer.src=this._IFrameURL.join("");
a.width&&(this._IFrameContainer.width=parseInt(a.width));a.height&&(this._IFrameContainer.height=parseInt(a.height));this._IFrameContainer.frameBorder=0;this._IFrameContainer.setAttribute("allow","autoplay; fullscreen; encrypted-media");this._IFrameContainer.setAttribute("allowfullscreen","");this._IFrameContainer.setAttribute("allowscriptaccess","always");this._IFrameContainer.setAttribute("scrolling","no");this._playerContainer.innerHTML="";this._playerContainer.appendChild(this._IFrameContainer);
return this._IFrameContent=this._IFrameContainer.contentWindow};b.prototype.protocol=function(){return this._protocol?this._protocol+":":/^http/i.test(location.protocol)?location.protocol:"https:"};b.prototype._bindEvent=function(c,a,b){if(null!=c)return c.addEventListener?c.addEventListener(a,b,!1):c.attachEvent("on"+a,b)};b.prototype.destroy=function(){this._playerContainer.innerHTML="";return this.playerDestroyed=!0};b.prototype._receiveMessage=function(c){var a,b,f,g,r,t,u,p,v,w,x,y,z,A,B,C,D,
E,F,G,H,I,J,K,L,l,m,M,N,n,O,P,Q,R,S,T,U,d,k,e,h,q,X,Y,Z,aa,ba,ca,da,ea,fa,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da;c=null!=c?c.data:void 0;switch(null!=c?c.eventName:void 0){case "onPlayerMounted":return this._isReady=!0,null!=(g=this._events)?null!=(r=g.onPlayerMounted)?r.apply(this,[null!=(B=c.eventData)?B:{}]):void 0:void 0;case "onPlayerReady":return this._isReady=!0,null!=(l=this._events)?null!=(U=l.onPlayerReady)?U.apply(this,[null!=(ca=c.eventData)?ca:{}]):void 0:
void 0;case "onVideoEnd":return this._isPlaying=!1,null!=(oa=this._events)?null!=(xa=oa.onVideoEnd)?xa.apply(this,[null!=(Ca=c.eventData)?Ca:{}]):void 0:void 0;case "onVideoStop":return this._isPlaying=!1,null!=(Da=this._events)?null!=(t=Da.onVideoStop)?t.apply(this,[null!=(u=c.eventData)?u:{}]):void 0:void 0;case "onVideoError":var V=null!=(b=c.eventData)?b:{};try{V=JSON.parse(V)}catch(Fa){}this._isPlaying=!1;return null!=(p=this._events)?null!=(v=p.onVideoError)?v.apply(this,[V]):void 0:void 0;
case "onVolumeChange":return null!=(w=this._events)?null!=(x=w.onVolumeChange)?x.apply(this,[null!=(y=c.eventData)?y:{}]):void 0:void 0;case "onPlay":return this._isPlaying=!0,null!=(z=this._events)?null!=(A=z.onPlay)?A.apply(this,[null!=(C=c.eventData)?C:{}]):void 0:void 0;case "onSeeked":return null!=(D=this._events)?null!=(E=D.onSeeked)?E.apply(this,[null!=(F=c.eventData)?F:{}]):void 0:void 0;case "onSeeking":return null!=(G=this._events)?null!=(H=G.onSeeking)?H.apply(this,[null!=(I=c.eventData)?
I:{}]):void 0:void 0;case "onReplay":return null!=(J=this._events)?null!=(K=J.onReplay)?K.apply(this,[null!=(L=c.eventData)?L:{}]):void 0:void 0;case "onProgramDateTime":return null!=(m=this._events)?null!=(M=m.onProgramDateTime)?M.apply(this,[null!=(N=c.eventData)?N:{}]):void 0:void 0;case "onTimeUpdate":return null!=(n=this._events)?null!=(O=n.onTimeUpdate)?O.apply(this,[null!=(P=c.eventData)?P:{}]):void 0:void 0;case "onFullscreenChange":return null!=(Q=this._events)?null!=(R=Q.onFullscreenChange)?
R.apply(this,[null!=(S=c.eventData)?S:{}]):void 0:void 0;case "onBuffering":return null!=(T=this._events)?null!=(d=T.onBuffering)?d.apply(this,[null!=(k=c.eventData)?k:{}]):void 0:void 0;case "onFragChanged":return null!=(e=this._events)?null!=(h=e.onFragChanged)?h.apply(this,[null!=(q=c.eventData)?q:{}]):void 0:void 0;case "onCastConnected":return null!=(X=this._events)?null!=(Y=X.onCastConnected)?Y.apply(this,[null!=(Z=c.eventData)?Z:{}]):void 0:void 0;case "onCastDisconnected":return null!=(aa=
this._events)?null!=(ba=aa.onCastDisconnected)?ba.apply(this,[null!=(da=c.eventData)?da:{}]):void 0:void 0;case "onCastRemoteDevicePaused":return null!=(ea=this._events)?null!=(fa=ea.onCastRemoteDevicePaused)?fa.apply(this,[null!=(ha=c.eventData)?ha:{}]):void 0:void 0;case "onCastRemoteDevicePlaying":return null!=(ia=this._events)?null!=(ja=ia.onCastRemoteDevicePlaying)?ja.apply(this,[null!=(ka=c.eventData)?ka:{}]):void 0:void 0;case "onPlaylistStatusChange":return null!=(la=this._events)?null!=(ma=
la.onPlaylistStatusChange)?ma.apply(this,[null!=(na=c.eventData)?na:{}]):void 0:void 0;case "onChangeLocation":return b=c.eventData,null!=(p=this._events)&&null!=(V=p.onChangeLocation)&&V.apply(this,[null!=b?b:{}]),null!=b&&b.parent?window.parent.location=b.url:this._IFrameContainer.src=b.url;case "onMetadata":return null!=(pa=this._events)?null!=(qa=pa.onMetadata)?qa.apply(this,[null!=(ra=c.eventData)?ra:{}]):void 0:void 0;case "onPiPStart":return null!=(sa=this._events)?null!=(ta=sa.onPiPStart)?
ta.apply(this,[null!=(ua=c.eventData)?ua:{}]):void 0:void 0;case "onPiPEnd":return null!=(va=this._events)?null!=(wa=va.onPiPEnd)?wa.apply(this,[null!=(ya=c.eventData)?ya:{}]):void 0:void 0;default:return null!=(za=this._events)&&za[null!=c?c.eventName:void 0]?this._events[c.eventName].apply(this,[null!=(Aa=c.eventData)?Aa:{}]):"function"===typeof(a=this._callbacks)[f=null!=c?c.eventName:void 0]?a[f](null!=(Ba=c.eventData)?Ba:null):void 0}};b.prototype._postMessage=function(b){var a;return this._isReady&&
!this.playerDestroyed?null!=(a=this._IFrameContent)?a.postMessage(b,this.protocol()+"//"+(window.EMBED_HOST||"mdstrm.com")):void 0:this._error(["Player is not ready yet, please wait for the onPlayerReady event"])};b.prototype._getMessage=function(b,a){for(var c;null==c||null!=this._callbacks[c];)c=Math.random().toString(32).substr(2);this._callbacks[c]=function(b){return function(){"function"===typeof a&&a.apply(null,arguments);return delete b._callbacks[c]}}(this);return this._postMessage({cb:c,
eventName:b.action||b,data:b.data})};b.prototype._getYouTubeID=function(b){var a;null==b&&(b="");return null!=(a=b.match(/^youtube:(.+)/i))?a[1]:void 0};b.prototype._log=function(b){null==b&&(b=[]);return"undefined"!==typeof console&&null!==console?console.log("[MDSTRM.Player] "+b.join(". ")):void 0};b.prototype._error=function(b){null==b&&(b=[]);return"undefined"!==typeof console&&null!==console?console.error("[MDSTRM.Player] "+b.join(". ")):void 0};b.prototype.isReady=function(){return this._isReady&&
!this.playerDestroyed};b.prototype.isPlaying=function(){return this._isPlaying};b.prototype.requestAds=function(b){return b?(this._postMessage({action:"requestAds",data:b}),!0):!1};b.prototype.clickCustomPlaylist=function(b,a){null==a&&(a=function(){});return this._getMessage({action:"clickCustomPlaylist",data:b},a)};b.prototype.seekTo=function(b,a){null==b&&(b=0);null==a&&(a=function(){});return this._getMessage({action:"seekTo",data:b},a)};b.prototype.videoPlay=function(b){null==b&&(b=function(){});
return this._getMessage("videoPlay",b)};b.prototype.videoStop=function(b){null==b&&(b=function(){});return this._getMessage("videoStop",b)};b.prototype.getCurrentTime=function(b){return this._getMessage("getCurrentTime",b)};b.prototype.getVideoMetrics=function(b){return this._getMessage("getVideoMetrics",b)};b.prototype.setVolume=function(b,a){null==a&&(a=function(){});return this._getMessage({action:"setVolume",data:b},a)};b.prototype.setSrc=function(b,a){null==a&&(a=function(){});return this._getMessage({action:"setSrc",
data:b},a)};b.prototype.setAdsVolume=function(b,a){null==a&&(a=function(){});return this._getMessage({action:"setAdsVolume",data:b},a)};b.prototype.getDuration=function(b){return this._getMessage("getDuration",b)};b.prototype.getSnapshot=function(b,a,f){return this._getMessage({action:"getSnapshot",data:{height:a,width:b}},f)};b.prototype.playbackLevel=function(b,a){null==a&&(a=function(){});return this._getMessage({action:"playbackLevel",data:b},a)};b.prototype.playbackLevels=function(b){return this._getMessage("playbackLevels",
b)};b.prototype.getPlaylist=function(b){return this._getMessage("getPlaylist",b)};b.prototype.toggleFullScreen=function(b){return this._getMessage("toggleFullScreen",b)};b.prototype.addMarker=function(b,a){null==a&&(a=function(){});return this._getMessage({action:"addMarker",data:b},a)};b.prototype.clearMarkers=function(b){return this._getMessage("clearMarkers",b)};b.prototype.stopCast=function(b){null==b&&(b=function(){});return this._getMessage("stopCast",b)};return b}();window.MediastreamPlayer=
b;b.prototype.isReady=b.prototype.isReady;b.prototype.isPlaying=b.prototype.isPlaying;b.prototype.requestAds=b.prototype.requestAds;b.prototype.seekTo=b.prototype.seekTo;b.prototype.videoPlay=b.prototype.videoPlay;b.prototype.videoStop=b.prototype.videoStop;b.prototype.getCurrentTime=b.prototype.getCurrentTime;b.prototype.getVideoMetrics=b.prototype.getVideoMetrics;b.prototype.setVolume=b.prototype.setVolume;b.prototype.setSrc=b.prototype.setSrc;b.prototype.setAdsVolume=b.prototype.setAdsVolume;b.prototype.getDuration=
b.prototype.getDuration;b.prototype.getSnapshot=b.prototype.getSnapshot;b.prototype.destroy=b.prototype.destroy;b.prototype.playbackLevel=b.prototype.playbackLevel;b.prototype.playbackLevels=b.prototype.playbackLevels;b.prototype.toggleFullScreen=b.prototype.toggleFullScreen;b.prototype.getPlaylist=b.prototype.getPlaylist;b.prototype.addMarker=b.prototype.addMarker;b.prototype.clearMarkers=b.prototype.clearMarkers;b.prototype.clickCustomPlaylist=b.prototype.clickCustomPlaylist;b.prototype.stopCast=
b.prototype.stopCast}).call(this);    
    </script>
    <div class="video-container">
        <div class="embed-responsive">
            <div class="embed-responsive-16by9">
                <div id="video-player"></div>
            </div>
        </div>
    </div>

    <script>
        'use strict';

        // Configuración del reproductor
        const VIDEO_CONFIG = {
            videoId: '63ee47e1daeeb80a30d98ef4',
            tokenUrl: 'https://chilevision.cl:8080/token.php/',
            playerSrc: 'ms_player_src_01',
            signal: 'live_1'
        };

        // Función para obtener el token y cargar el video
        async function loadVideo() {
            try {
                const now = Date.now();
                const tokenUrl = `${VIDEO_CONFIG.tokenUrl}${VIDEO_CONFIG.playerSrc}/${VIDEO_CONFIG.signal}/${VIDEO_CONFIG.videoId}/${now}.json`;
                
                const response = await fetch(tokenUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: new URLSearchParams({
                        msplayersrc: VIDEO_CONFIG.playerSrc,
                        senal: VIDEO_CONFIG.signal,
                        idsenal: VIDEO_CONFIG.videoId
                    })
                });

                const data = await response.json();
                const token = data.token;

                if (token) {
                    initializePlayer(token);
                } else {
                    console.error('No se pudo obtener el token');
                }
            } catch (error) {
                console.error('Error al cargar el video:', error);
            }
        }

        // Función para obtener dimensiones responsive centradas
        function getResponsiveDimensions() {
            const container = document.querySelector('.embed-responsive-16by9');
            const containerRect = container.getBoundingClientRect();
            
            return {
                width: Math.max(containerRect.width, 320),
                height: Math.max(containerRect.height, 180)
            };
        }

        // Función para inicializar el reproductor
        function initializePlayer(token) {
            const dimensions = getResponsiveDimensions();
            
            const playerOptions = {
                width: dimensions.width,
                height: dimensions.height,
                type: "live",
                protocol: "https",
                id: VIDEO_CONFIG.videoId,
                access_token: token,
                volumen: "100",
                autoplay: true,
                responsive: true,
                events: {
                    onPlayerReady: function() {
                        console.log("Reproductor listo");
                        // Asegurar centrado después de que el reproductor esté listo
                        centerVideo();
                    },
                    onPlay: function() {
                        console.log("Video iniciado");
                        centerVideo();
                    },
                    onVideoError: function() {
                        console.log("Error en el video");
                    },
                    onVolumeChange: function(volume) {
                        console.log("Volumen cambiado a: " + volume);
                    }
                }
            };

            // Crear el reproductor
            new MediastreamPlayer('video-player', playerOptions);
        }

        // Función para centrar el video
        function centerVideo() {
            setTimeout(() => {
                const player = document.querySelector('#video-player iframe, #video-player video');
                if (player) {
                    player.style.position = 'absolute';
                    player.style.top = '50%';
                    player.style.left = '50%';
                    player.style.transform = 'translate(-50%, -50%)';
                    player.style.width = '100%';
                    player.style.height = '100%';
                    player.style.objectFit = 'contain';
                }
            }, 100);
        }

        // Inicializar cuando la página esté lista
        document.addEventListener('DOMContentLoaded', function() {
            loadVideo();
        });

        // Auto-recarga cada 30 minutos para mantener la conexión
        setInterval(function() {
            loadVideo();
        }, 30 * 60 * 1000);

        // Manejar cambios de orientación y redimensionamiento
        window.addEventListener('resize', function() {
            // Debounce para evitar múltiples llamadas
            clearTimeout(window.resizeTimeout);
            window.resizeTimeout = setTimeout(function() {
                centerVideo();
            }, 250);
        });

        // Manejar cambios de orientación en móviles
        window.addEventListener('orientationchange', function() {
            setTimeout(function() {
                centerVideo();
            }, 500);
        });

        // Observer para asegurar que el video permanezca centrado
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList') {
                    const addedNodes = Array.from(mutation.addedNodes);
                    addedNodes.forEach(node => {
                        if (node.tagName === 'IFRAME' || node.tagName === 'VIDEO') {
                            centerVideo();
                        }
                    });
                }
            });
        });

        // Observar cambios en el contenedor del reproductor
        document.addEventListener('DOMContentLoaded', function() {
            const videoContainer = document.getElementById('video-player');
            if (videoContainer) {
                observer.observe(videoContainer, {
                    childList: true,
                    subtree: true
                });
            }
        });
    </script>
</body>
</html>
